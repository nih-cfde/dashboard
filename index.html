<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CFDE Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./css/style.css" type="text/css"/>
    <link rel="stylesheet" href="./css/index.css" type="text/css"/>
    <script src="/chaise/lib/navbar/navbar.app.js"></script>
    <link rel="stylesheet" href="./css/components/normalize.css" type="text/css">
    <link rel="stylesheet" href="./css/components/bootstrap.min.css" type="text/css">
    <link rel="shortcut icon" type="image/png" href="./images/icons/CFDE-icon-1.png?v=2"/>
    <link rel="stylesheet" href="./css/fonts.css" type="text/css"/>
  </head>
  <body>
    <div id="wrap-navbar">
      <navbar></navbar>
    </div>

    <main class="main">

      <div class="top_content">
	<div class="top_content_section_left">
	  <div class="section_left_page_info">
            <h1>Common Fund Data Ecosystem</h1>
            <h2>Access and Work Across Multiple Common Fund (CF) program data sets</h2>
	    <p>More at: <a href="https://www.nih-cfde.org/" target="_blank">https://www.nih-cfde.org/ <i class="fas fa-external-link-alt"></i></a></p>
          </div>
	</div>
	<div class="top_content_section_right">
          <table id="data_preview_table" class="data_preview">
          </table>
	</div><!-- end Top Content-Section-Right-->
      </div><!-- End Top Content-->

      <div class="content">
        <div class="content__top">
          <div class="content__left">
            <div class="data_header">
              <p>Explore our Repository</p>
            </div>
            <div class="data_content">
              <p>Search over 100,000 datasets from across the Common Fund</p>
              <button id="search-all" type="button" class="btn btn-primary">SEARCH ALL FILES</button>

              <div class="browse_by_feature">
                <h4>View Data By</h4>
                <ul>
                  <li><a href="/chaise/recordset/#1/CFDE:collection" target="_blank">Collection</a></li>
                  <li><a href="/chaise/recordset/#1/CFDE:biosample" target="_blank">Biosample</a></li>
                  <li><a href="/chaise/recordset/#1/CFDE:subject" target="_blank">Subject</a></li>
                  <li><a href="/chaise/recordset/#1/CFDE:file" target="_blank">File</a></li>
                </ul>

                <h4>Example Data Views</h4>
                <ul>
                  <li><a href="/chaise/record/#1/CFDE:assay_type/id=OBI%3A0001271" target="_blank">All data related to RNA-seq</a></li>

		  <li><a href="/chaise/record/#1/CFDE:anatomy/id=UBERON%3A0002106" target="_blank">All data related to spleen</a></li>

                </ul>
              <div style="clear: both"></div>
              </div>
            </div>
          </div>

          <div class="content__right">
            <div class="data_header snapshot">
              <p id="summary_view_title" class="snapshot_head">Summary View</p>
	      <p id="last_updated" class="last-updated"></p>
            </div>
            <div class="data_content">
            <div id="sbc1-container">
              <svg id="sbc1"/>
            </div>
            <div id="form-controls">
              <form>
                <div class="container" style="width: 100%;">
		  <!--                  <div class="row" style="flex-wrap:nowrap"> -->
		    <div class="row"> 
                    <div class="col-md-4" id="sbc1-x-axis-container">
                      <label for="x-axis" class="form-label">X-axis</label>
                      <select class="custom-select" id="sbc1-x-axis" name="x-axis">
                        <option selected value="dcc">CF Program</option>
                        <option value="data_type">Data Type</option>
                        <option value="assay">Assay</option>
                        <option value="species">Species</option>
                        <option value="anatomy">Anatomy</option>
                      </select>
                    </div>
                    <div class="col-md-4" id="sbc1-y-axis-container">
                      <label for="y-axis" class="form-label">Y-axis</label>
                      <select class="custom-select" id="sbc1-y-axis" name="y-axis">
                        <option selected value="files">File count</option>
                        <option value="volume">Data volume</option>
                        <option value="samples">Sample count</option>
                        <option value="subjects">Subject count</option>
                      </select>
                    </div>
                    <div class="col-md-4" id="sbc1-group-by-container">
                      <label for="group-by" class="form-label">Stack by</label>
                      <select class="custom-select" id="sbc1-group-by" name="groupby">
                        <option value="dcc">CF Program</option>
                        <option value="data_type">Data Type</option>
                        <option selected value="assay">Assay</option>
                        <option value="species">Species</option>
                        <option value="anatomy">Anatomy</option>
                      </select>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            </div> <!--end data_content-->
          </div>

        </div>
        <div class="content__bottom">
          <div class="content__col left">
            <div class="data_header">
              <p>Participating Common Fund Programs</p>
            </div>
            <div class="data_content">
	      <div style="display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-around;">
                <div style="padding-bottom: 20px;"><div style="background: black; padding: 0.5em"><a target="_blank" href="https://exrna.org"><img width="170px" src="images/exrna-logo-white.png"></a></div></div>
                <div style="padding-bottom: 20px;"><a target="_blank" href="https://gtexportal.org/home/"><img width="100px" src="images/GTEX.png"></a></div>
                <div style="flex-basis: 100%; height: 0px;"></div>
		<div style="padding-bottom: 20px;"><a target="_blank" href="https://hmpdacc.org"><img width="150px" src="images/HMP.png"></a></div>
                <div style="padding-bottom: 20px;"><a target="_blank" href="https://hubmapconsortium.org"><img width="170px" src="images/hubmap-logo.png"></a></div>
		<div style="flex-basis: 100%; height: 0px;"></div>
                <div style="padding-bottom: 20px;"><a target="_blank" href="https://lincsproject.org/"><img width="170px" src="images/LINCS.png"></a></div>
                <div style="padding-bottom: 20px;"><a target="_blank" href="https://portal.kidsfirstdrc.org/dashboard"><img width="150px" src="images/KidsFirst.png"></a></div>
		<div style="flex-basis: 100%; height: 0px;"></div>
                <div style="padding-bottom: 20px;"><a target="_blank" href="https://www.metabolomicsworkbench.org"><img width="170px" src="images/Metabolomics.png"></a></div>
	      </div>
            </div>
          </div>
          <div class="content__col middle">
            <div class="data_header">
              <p>Social Media</p>
            </div>
	    <div style="min-width: 400px;">
              <a class="twitter-timeline" data-height="400" href="https://twitter.com/CfdeNih?ref_src=twsrc%5Etfw">Tweets by CfdeNih</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
	    </div>
          </div>
          <div class="content__col right">
              <div class="data_header">
                <p>Funding</p>
              </div>
              <div class="data_content">
                <!--insert NIH logo-->
                <a href="http://nih.gov" target="_blank"><img width="380px" src="images/nih.png" title="NIH"></a>
              </div>
          </div>
        </div>
      </div>
    </main>

    <div id="export-modal" class="modal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5>Choose how you wish to export this chart</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="close">
              <span aria-hidden="true">Ã—</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row justify-content-center export-row">
              <button id="export-png" type="button" class="btn btn-primary">Export as PNG</button>
            </div>
            <div class="row justify-content-center export-row">
              <button id="export-svg" type="button" class="btn btn-primary">Export as SVG</button>
            </div>
            <div class="row justify-content-center export-row">
              <button id="export-csv" type="button" class="btn btn-primary">Export data as CSV</button>
            </div>

          </div>
        </div>
      </div>
    </div>

    <footer><!-- Footer text/content --></footer>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LNZN3CXFQK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-LNZN3CXFQK');
    </script>
    <script src="js/components/jquery-3.5.1.min.js?ts=1616433204"></script>
    <script src="js/components/bootstrap-4.5.0.min.js?ts=1616433204"></script>
    <script src="js/components/d3-5.16.0.min.js?ts=1616433204"></script>
    <script src="js/components/saveSvgAsPng.js?ts=1604093612"></script>
    <script src="js/components/d3-save-svg.min.js?ts=1604093612"></script>
    <script src="js/stacked-bar-graph.js?ts=1618327631"></script>
    <script src="js/lz-string.min.js?ts=1607186913"></script>
    <script src="js/config.js?ts=1614304272"></script>
    <script src="js/index.js?ts=1618327712"></script>
  </body>
</html>
